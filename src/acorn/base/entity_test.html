<!DOCTYPE html>
<html>
<head>
<title>acorn.base.Entity Unit Tests</title>
<script src="../../../libs/closure-library/closure/goog/base.js"></script>
<script src="../../deps.js"></script>
<script>
  goog.require('acorn.base.Entity');
  goog.require('goog.testing.jsunit');
</script>
</head>
<body>
<script>

var mockComponent1 = {
  getComponentId: function() { return '1'; }
};

var mockComponent2 = {
  getComponentId: function() { return '2'; }
};

function testAttachComponent() {
  var entity = new acorn.base.Entity();
  assertFalse(entity.hasComponent(mockComponent1));
  var ret = entity.attachComponent(mockComponent1);
  assertTrue(entity.hasComponent(mockComponent1));
  assertEquals(entity, ret);
}

function testAttachComponentReturnsThis() {
  var entity = new acorn.base.Entity();
  var ret = entity.attachComponent(mockComponent1);
  assertEquals(entity, ret);
}

function testAttachComponents() {
  var entity = new acorn.base.Entity();
  var ret = entity.attachComponents([mockComponent1, mockComponent2]);
  assertTrue(entity.hasComponent(mockComponent1));
  assertTrue(entity.hasComponent(mockComponent2));
}

function testAttachComponentsEmptyList() {
  var entity = new acorn.base.Entity();
  entity.attachComponents([]);
}

function testAttachComponentsReturnsThis() {
  var entity = new acorn.base.Entity();
  var ret = entity.attachComponents([mockComponent1]);
  assertEquals(entity, ret);
}

function testGetComponent() {
  var entity = new acorn.base.Entity();
  var component = mockComponent1;
  entity.attachComponent(component);
  assertEquals(component, entity.getComponent(mockComponent1));
}
</script>
</body>
</html>
